imports:
    - { resource: parameters.yml }
    - { resource: security.yml }
    - { resource: services.yml }

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
    locale: en

framework:
    #esi: ~
    translator: { fallbacks: ['%locale%'] }
    secret: '%secret%'
    router:
        resource: '%kernel.project_dir%/app/config/routing.yml'
        strict_requirements: ~
    form: ~
    csrf_protection: ~
    validation: { enable_annotations: true }
    #serializer: { enable_annotations: true }
    templating:
        engines: ['twig']
    default_locale: '%locale%'
    trusted_hosts: ~
    session:
        # https://symfony.com/doc/current/reference/configuration/framework.html#handler-id
        handler_id: session.handler.native_file
        save_path: '/var/lib/php/sessions'
    fragments: ~
    http_method_override: true
    assets:
        json_manifest_path: '%kernel.project_dir%/web/build/manifest.json'
    php_errors:
        log: true
    cache:
        app: cache.adapter.apcu

# Twig Configuration
twig:
    debug: '%kernel.debug%'
    strict_variables: '%kernel.debug%'
    form_themes: ['bootstrap_3_layout.html.twig']
    globals:
        siteKey: '%siteKey%'

# Doctrine Configuration
doctrine:
    dbal:
        driver: pdo_pgsql
        host: '%database_host%'
        port: '%database_port%'
        dbname: '%database_name%'
        user: '%database_user%'
        password: '%database_password%'
        charset: UTF8

    orm:
        auto_generate_proxy_classes: '%kernel.debug%'
        naming_strategy: doctrine.orm.naming_strategy.underscore
        auto_mapping: true

# Swiftmailer Configuration
swiftmailer:
    transport: '%mailer_transport%'
    host: '%mailer_host%'
    username: '%mailer_user%'
    password: '%mailer_password%'
    spool: { type: memory }

hslavich_onelogin_saml:
    # Basic settings
    idp:
        entityId: 'https://welkom.ugent.be/saml2/idp/metadata.php'
        singleSignOnService:
            url: 'https://welkom.ugent.be/saml2/idp/SSOService.php'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        singleLogoutService:
            url: 'https://welkom.ugent.be/saml2/idp/SingleLogoutService.php'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        x509cert: 'MIIHBjCCBe6gAwIBAgIQAkKvHBFh+sxxSlhkkNPTejANBgkqhkiG9w0BAQsFADBkMQswCQYDVQQGEwJOTDEWMBQGA1UECBMNTm9vcmQtSG9sbGFuZDESMBAGA1UEBxMJQW1zdGVyZGFtMQ8wDQYDVQQKEwZURVJFTkExGDAWBgNVBAMTD1RFUkVOQSBTU0wgQ0EgMzAeFw0xODAyMjYwMDAwMDBaFw0yMDAzMDIxMjAwMDBaMGoxCzAJBgNVBAYTAkJFMQ0wCwYDVQQHEwRHZW50MRowGAYDVQQKExFVbml2ZXJzaXRlaXQgR2VudDESMBAGA1UECxMJQ0E2MCBESUNUMRwwGgYDVQQDExN3d3cud2Vsa29tLnVnZW50LmJlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsihxhfrGDghVLjDRDffPDySDunVBtDOuyQYIa/yPrwirdCVsIuTu9Gdabx5su4mwqaeg6M+//HiaMVfFaYklmqVV3yS5mbwKdAvWezYe4JenYnS235MOHiiZGJZm3kbXZFZNS+IfvWrLIG5OYyXZm8I3Hv6jnB+bd+w01rnPus95LVBlGoSJvkKifuXOO8rFWlTCRoOGIjhDiomU2MZfdIf+6SmiyzY8KAzEtoC+zc7h59hEncXWuxen0TWI3MVFigYFj5T65lAj1sbxyfnUIEEL7ZSCWIZ1SB+Jh91k7oR7V0VDFa4CJizCTPdTG3GzrUJO/x/6Qkg8qGZTi3IYDQIDAQABo4IDrDCCA6gwHwYDVR0jBBgwFoAUZ/2IIBQnmMcJ0iUZu+lREWN1UGIwHQYDVR0OBBYEFGnLVxLmF4FCpymE2Z9PG17TKHTeMHsGA1UdEQR0MHKCD3dlbGtvbS51Z2VudC5iZYITd3d3LndlbGtvbS51Z2VudC5iZYIQd2VsY29tZS51Z2VudC5iZYIUd3d3LndlbGNvbWUudWdlbnQuYmWCEHdlbGtvbTEudWdlbnQuYmWCEHdlbGtvbTIudWdlbnQuYmUwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjBrBgNVHR8EZDBiMC+gLaArhilodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vVEVSRU5BU1NMQ0EzLmNybDAvoC2gK4YpaHR0cDovL2NybDQuZGlnaWNlcnQuY29tL1RFUkVOQVNTTENBMy5jcmwwTAYDVR0gBEUwQzA3BglghkgBhv1sAQEwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQUzAIBgZngQwBAgIwbgYIKwYBBQUHAQEEYjBgMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wOAYIKwYBBQUHMAKGLGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9URVJFTkFTU0xDQTMuY3J0MAwGA1UdEwEB/wQCMAAwggF/BgorBgEEAdZ5AgQCBIIBbwSCAWsBaQB2AKS5CZC0GFgUh7sTosxncAo8NZgE+RvfuON3zQ7IDdwQAAABYdHQNGYAAAQDAEcwRQIgWMPz7WLbv6ZndNI3LqZfJha+f5Py9pJOW/TjLxXHDyYCIQC/G6174P7pn3tpybEimq/Vg1WG1RuZvz2UGViaj7oUKQB2AId1v+dZfPiMQ5lfvfNu/1aNR1Y2/0q1YMG06v9eoIMPAAABYdHQNM0AAAQDAEcwRQIgH4GmJ1WfQ79f2QYJzlzKxKoO4JOJar1xVks8ZH1FNHQCIQC0gpdGDBZYYGysnYux/u5J/aBrFLtPU1CxmcMqV1A/xwB3ALvZ37wfinG1k5Qjl6qSe0c4V5UKq1LoGpCWZDaOHtGFAAABYdHQNRIAAAQDAEgwRgIhAJpKr2aNzpS/rocrpywC7yEITs2TeDVkNSeBRxiGLWNiAiEA2wFTq9ObdeuFUW+GKaEn9QLAdGMpA3We4vz0+B4TNIgwDQYJKoZIhvcNAQELBQADggEBALAFCFdbWli/P1/yOOYTn+x3y93CM5tpYKSFLXqXpzd17FUgBt3KsI3FyVjlPm9rHZO7UHYv0C38Bb4DX42/rrY29s7KU4HuTTMNIuM9zUF1KyaHvMby17f5pbeetRyPaSmNOeaoNDS2nHph7uq+d6JOCuHg6xKfyWQp41hu564w8IN+h+7gy/7B/3dkLSq+sp6TTM9CyOEtRsLm3UjN7Opfe4lb78q8IgPvMt/tLd/FUnRQKnHpdQhNYYhkxPwQwOzqxY1LQ4Sorm6swAbF8H9oXu+KyZHyLHC0+DJlx3CIedJcu+VdKuFRnfAVQTvsQZDK2JsJyqvChUs+Hzrxme0='
    sp:
        entityId: 'https://www.dbbe.ugent.be/saml/metadata'
        assertionConsumerService:
            url: 'https://www.dbbe.ugent.be/saml/acs'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST'
        singleLogoutService:
            url: 'https://www.dbbe.ugent.be/saml/logout'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        x509cert: 'MIICWzCCAcSgAwIBAgIJAP3sVZvCANJWMA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNVBAYTAmJlMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTgxMDE2MDgwOTE0WhcNMTkxMDE2MDgwOTE0WjBFMQswCQYDVQQGEwJiZTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC9DdFdw4haULrvE0ZYexVIaUgrRvefZ5J81pSJp8bRjtmFv78zrJ7aDPIABdag+I6+XviLVTvfYLG1ieLt2hXFeC40fC0MdlAL+w/1M9nlXmzgSAxWm4PHMF27Z44Le77ysTxNsNZBNCjsChA9cTieJCHABENtgCrCC5X5Pt2eSwIDAQABo1MwUTAdBgNVHQ4EFgQU1H8mqvTWuC4IOviQ6P0pK2CNVWgwHwYDVR0jBBgwFoAU1H8mqvTWuC4IOviQ6P0pK2CNVWgwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQAM+bT3pVxX/9NJEdSosBVBVnemL3lDipa4NEqdqgGW+HLPNkocCFCuQHdrT27Yh1cwV/c6PacGqWO+ScXrS2mvRG8w5Iy1gPVSZG1J/WhG6zGN8TzOApJ2Lu20RbXqZwX2SfeP66zQjt9Mn5HAQO5yXmayRaBQrveTFBi3Y4NlAQ'
    # Optional settings
    strict: true
    debug: true
    security:
        nameIdEncrypted:       false
        authnRequestsSigned:   false
        logoutRequestSigned:   false
        logoutResponseSigned:  false
        wantMessagesSigned:    false
        wantAssertionsSigned:  false
        wantNameIdEncrypted:   false
        requestedAuthnContext: true
        signMetadata: false
        wantXMLValidation: true
        signatureAlgorithm: 'http://www.w3.org/2001/04/xmldsig-more#rsa-sha256'
        digestAlgorithm: 'http://www.w3.org/2001/04/xmlenc#sha256'